{
    "PolicyVersion": {
        "CreateDate": "2018-11-26T19:33:29Z", 
        "VersionId": "v3", 
        "Document": {
            "Version": "2012-10-17", 
            "Statement": [
                {
                    "Action": [
                        "cloudformation:CreateChangeSet", 
                        "cloudformation:CreateStack", 
                        "cloudformation:DeleteStack", 
                        "cloudformation:ExecuteChangeSet"
                    ], 
                    "Resource": "arn:aws:cloudformation:*:*:stack/sms-app-*/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAllValues:StringLikeIfExists": {
                            "cloudformation:ResourceTypes": [
                                "AWS::EC2::*"
                            ]
                        }
                    }
                }, 
                {
                    "Action": [
                        "cloudformation:DeleteChangeSet", 
                        "cloudformation:DescribeChangeSet", 
                        "cloudformation:DescribeStackEvents", 
                        "cloudformation:DescribeStackResources", 
                        "cloudformation:GetTemplate"
                    ], 
                    "Resource": "arn:aws:cloudformation:*:*:stack/sms-app-*/*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "cloudformation:DescribeStacks", 
                        "cloudformation:ValidateTemplate", 
                        "cloudformation:DescribeStackResource", 
                        "s3:ListAllMyBuckets"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "s3:CreateBucket", 
                        "s3:DeleteBucket", 
                        "s3:DeleteObject", 
                        "s3:GetBucketAcl", 
                        "s3:GetBucketLocation", 
                        "s3:GetObject", 
                        "s3:ListBucket", 
                        "s3:PutObject", 
                        "s3:PutObjectAcl", 
                        "s3:PutLifecycleConfiguration", 
                        "s3:ListAllMyBuckets"
                    ], 
                    "Resource": "arn:aws:s3:::sms-app-*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "sms:CreateReplicationJob", 
                        "sms:DeleteReplicationJob", 
                        "sms:GetReplicationJobs", 
                        "sms:GetReplicationRuns", 
                        "sms:GetServers", 
                        "sms:ImportServerCatalog", 
                        "sms:StartOnDemandReplicationRun", 
                        "sms:UpdateReplicationJob"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "ec2:ModifySnapshotAttribute", 
                        "ec2:CopySnapshot", 
                        "ec2:CopyImage", 
                        "ec2:Describe*", 
                        "ec2:DeleteSnapshot", 
                        "ec2:DeregisterImage", 
                        "ec2:CreateTags", 
                        "ec2:DeleteTags"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": "iam:GetRole", 
                    "Resource": "*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": "iam:PassRole", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "iam:AssociatedResourceArn": "arn:aws:cloudformation:*:*:stack/sms-app-*/*"
                        }
                    }
                }
            ]
        }, 
        "IsDefaultVersion": true
    }
}
