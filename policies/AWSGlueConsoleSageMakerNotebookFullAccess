{
    "PolicyVersion": {
        "CreateDate": "2018-10-05T17:52:35Z", 
        "VersionId": "v1", 
        "Document": {
            "Version": "2012-10-17", 
            "Statement": [
                {
                    "Action": [
                        "glue:*", 
                        "redshift:DescribeClusters", 
                        "redshift:DescribeClusterSubnetGroups", 
                        "iam:ListRoles", 
                        "iam:ListRolePolicies", 
                        "iam:GetRole", 
                        "iam:GetRolePolicy", 
                        "iam:ListAttachedRolePolicies", 
                        "ec2:DescribeSecurityGroups", 
                        "ec2:DescribeSubnets", 
                        "ec2:DescribeVpcs", 
                        "ec2:DescribeVpcEndpoints", 
                        "ec2:DescribeRouteTables", 
                        "ec2:DescribeVpcAttribute", 
                        "ec2:DescribeKeyPairs", 
                        "ec2:DescribeInstances", 
                        "ec2:DescribeImages", 
                        "ec2:CreateNetworkInterface", 
                        "ec2:AttachNetworkInterface", 
                        "ec2:ModifyNetworkInterfaceAttribute", 
                        "ec2:DeleteNetworkInterface", 
                        "ec2:DescribeAvailabilityZones", 
                        "ec2:DescribeInternetGateways", 
                        "ec2:DescribeNetworkInterfaces", 
                        "rds:DescribeDBInstances", 
                        "s3:ListAllMyBuckets", 
                        "s3:ListBucket", 
                        "s3:GetBucketAcl", 
                        "s3:GetBucketLocation", 
                        "cloudformation:DescribeStacks", 
                        "cloudformation:GetTemplateSummary", 
                        "dynamodb:ListTables", 
                        "kms:ListAliases", 
                        "kms:DescribeKey", 
                        "sagemaker:ListNotebookInstances", 
                        "sagemaker:ListNotebookInstanceLifecycleConfigs", 
                        "cloudformation:ListStacks", 
                        "cloudwatch:GetMetricData", 
                        "cloudwatch:ListDashboards"
                    ], 
                    "Resource": [
                        "*"
                    ], 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "s3:GetObject", 
                        "s3:PutObject"
                    ], 
                    "Resource": [
                        "arn:aws:s3:::aws-glue-*/*", 
                        "arn:aws:s3:::*/*aws-glue-*/*", 
                        "arn:aws:s3:::aws-glue-*"
                    ], 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "s3:CreateBucket"
                    ], 
                    "Resource": [
                        "arn:aws:s3:::aws-glue-*"
                    ], 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "logs:GetLogEvents"
                    ], 
                    "Resource": [
                        "arn:aws:logs:*:*:/aws-glue/*"
                    ], 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "cloudformation:CreateStack", 
                        "cloudformation:DeleteStack"
                    ], 
                    "Resource": "arn:aws:cloudformation:*:*:stack/aws-glue*/*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "sagemaker:CreatePresignedNotebookInstanceUrl", 
                        "sagemaker:CreateNotebookInstance", 
                        "sagemaker:DeleteNotebookInstance", 
                        "sagemaker:DescribeNotebookInstance", 
                        "sagemaker:DescribeNotebookInstanceLifecycleConfig", 
                        "sagemaker:DeleteNotebookInstanceLifecycleConfig", 
                        "sagemaker:StartNotebookInstance", 
                        "sagemaker:CreateNotebookInstanceLifecycleConfig", 
                        "sagemaker:StopNotebookInstance", 
                        "sagemaker:UpdateNotebookInstance", 
                        "sagemaker:ListTags"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:notebook-instance/aws-glue-*", 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "ec2:RunInstances"
                    ], 
                    "Resource": [
                        "arn:aws:ec2:*:*:instance/*", 
                        "arn:aws:ec2:*:*:key-pair/*", 
                        "arn:aws:ec2:*:*:image/*", 
                        "arn:aws:ec2:*:*:security-group/*", 
                        "arn:aws:ec2:*:*:network-interface/*", 
                        "arn:aws:ec2:*:*:subnet/*", 
                        "arn:aws:ec2:*:*:volume/*"
                    ], 
                    "Effect": "Allow"
                }, 
                {
                    "Action": [
                        "ec2:TerminateInstances", 
                        "ec2:CreateTags", 
                        "ec2:DeleteTags"
                    ], 
                    "Resource": [
                        "arn:aws:ec2:*:*:instance/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "ec2:ResourceTag/aws:cloudformation:logical-id": "ZeppelinInstance"
                        }, 
                        "StringLike": {
                            "ec2:ResourceTag/aws:cloudformation:stack-id": "arn:aws:cloudformation:*:*:stack/aws-glue-*/*"
                        }
                    }
                }, 
                {
                    "Action": [
                        "tag:GetResources"
                    ], 
                    "Resource": [
                        "*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:TagKeys": "aws-glue-*"
                        }
                    }
                }, 
                {
                    "Action": [
                        "iam:PassRole"
                    ], 
                    "Resource": "arn:aws:iam::*:role/AWSGlueServiceRole*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "iam:PassedToService": [
                                "glue.amazonaws.com"
                            ]
                        }
                    }
                }, 
                {
                    "Action": [
                        "iam:PassRole"
                    ], 
                    "Resource": "arn:aws:iam::*:role/AWSGlueServiceNotebookRole*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "iam:PassedToService": [
                                "ec2.amazonaws.com"
                            ]
                        }
                    }
                }, 
                {
                    "Action": [
                        "iam:PassRole"
                    ], 
                    "Resource": "arn:aws:iam::*:role/AWSGlueServiceSageMakerNotebookRole*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "iam:PassedToService": [
                                "sagemaker.amazonaws.com"
                            ]
                        }
                    }
                }, 
                {
                    "Action": [
                        "iam:PassRole"
                    ], 
                    "Resource": [
                        "arn:aws:iam::*:role/service-role/AWSGlueServiceRole*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "iam:PassedToService": [
                                "glue.amazonaws.com"
                            ]
                        }
                    }
                }
            ]
        }, 
        "IsDefaultVersion": true
    }
}
